{
    "version": 3,
    "terraform_version": "0.9.6",
    "serial": 20,
    "lineage": "bb2a9eb0-40a9-457d-8192-e772986f32a3",
    "modules": [
        {
            "path": [
                "root"
            ],
            "outputs": {},
            "resources": {
                "aws_iam_instance_profile.master_profile": {
                    "type": "aws_iam_instance_profile",
                    "depends_on": [
                        "aws_iam_role.master_role"
                    ],
                    "primary": {
                        "id": "master_profile",
                        "attributes": {
                            "arn": "arn:aws-cn:iam::493490470276:instance-profile/master_profile",
                            "id": "master_profile",
                            "name": "master_profile",
                            "path": "/",
                            "role": "master_role",
                            "roles.#": "1",
                            "roles.2094835459": "master_role",
                            "unique_id": "AIPAPN3MKKODP4DJ6HPZS"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_instance_profile.worker_profile": {
                    "type": "aws_iam_instance_profile",
                    "depends_on": [
                        "aws_iam_role.worker_role"
                    ],
                    "primary": {
                        "id": "worker_profile",
                        "attributes": {
                            "arn": "arn:aws-cn:iam::493490470276:instance-profile/worker_profile",
                            "id": "worker_profile",
                            "name": "worker_profile",
                            "path": "/",
                            "role": "worker_role",
                            "roles.#": "1",
                            "roles.2628533307": "worker_role",
                            "unique_id": "AIPAOW5L7HBY6G2K6NISE"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_role.master_role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "master_role",
                        "attributes": {
                            "arn": "arn:aws-cn:iam::493490470276:role/master_role",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com.cn\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2017-07-26T10:03:13Z",
                            "id": "master_role",
                            "name": "master_role",
                            "path": "/",
                            "unique_id": "AROAO37EFEEPZMLYXDIZU"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_role.worker_role": {
                    "type": "aws_iam_role",
                    "depends_on": [],
                    "primary": {
                        "id": "worker_role",
                        "attributes": {
                            "arn": "arn:aws-cn:iam::493490470276:role/worker_role",
                            "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ec2.amazonaws.com.cn\"},\"Action\":\"sts:AssumeRole\"}]}",
                            "create_date": "2017-07-26T10:03:13Z",
                            "id": "worker_role",
                            "name": "worker_role",
                            "path": "/",
                            "unique_id": "AROAPPBW43W3AS7HUND7S"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_role_policy.master_policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.master_role"
                    ],
                    "primary": {
                        "id": "master_role:master_policy",
                        "attributes": {
                            "id": "master_role:master_policy",
                            "name": "master_policy",
                            "policy": "{\n    \"Version\": \"2012-10-17\",\n    \"Statement\": [\n    {\n        \"Action\" : [\"ec2:*\"],\n        \"Effect\": \"Allow\",\n        \"Resource\": [\"*\"]\n    },\n    {\n        \"Action\" : [\"elasticloadbalancing:*\"],\n        \"Effect\": \"Allow\",\n        \"Resource\": [\"*\"]\n    },\n    {\n        \"Action\": \"ecr:*\",\n        \"Effect\": \"Allow\",\n        \"Resource\": \"*\"\n    }\n  ]\n}\n",
                            "role": "master_role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_iam_role_policy.worker_policy": {
                    "type": "aws_iam_role_policy",
                    "depends_on": [
                        "aws_iam_role.worker_role"
                    ],
                    "primary": {
                        "id": "worker_role:worker_policy",
                        "attributes": {
                            "id": "worker_role:worker_policy",
                            "name": "worker_policy",
                            "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:Describe*\",\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:AttachVolume\",\n      \"Resource\": \"*\"\n    },\n    {\n      \"Effect\": \"Allow\",\n      \"Action\": \"ec2:DetachVolume\",\n      \"Resource\": \"*\"\n    }\n  ]\n}\n",
                            "role": "worker_role"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_internet_gateway.gw": {
                    "type": "aws_internet_gateway",
                    "depends_on": [
                        "aws_vpc.kubernetes"
                    ],
                    "primary": {
                        "id": "igw-be82eadb",
                        "attributes": {
                            "id": "igw-be82eadb",
                            "tags.%": "0",
                            "vpc_id": "vpc-939a39f7"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_key_pair.ssh_key": {
                    "type": "aws_key_pair",
                    "depends_on": [],
                    "primary": {
                        "id": "ssh_key",
                        "attributes": {
                            "fingerprint": "9b:36:f7:7f:7c:fb:96:27:68:4a:00:19:fa:33:36:cc",
                            "id": "ssh_key",
                            "key_name": "ssh_key",
                            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDe6dybFdihbTfJBYVINuYOeXKdvF7cuLuFkBFO4O56bgUIA+xA56Ipq2UjtOLbzClNRmAUoTPLmQoJCv6LZxLHtczbj2Fn9ckbY9hCjFCBDEQt4B0pzYVphgeMvMgCcn5dYzQJT/4yX9ib98TYxILjWt7wfuGmRXXxpx3rAq1C1puKIPSQ1U9UgSU0rfRX9Lbv4Cj+apmBXyvzYRdylR+QZLhD+VGRURK59WvlbErp3Vu2MYItwZRPHhccxqf0pFu3BFift0p82ZkadoMWMJrLvVB0jyS2t9cS7FQPDciZDaLud4jelE8JSPmzuaeaq29qoUwhySLl+/A20UhqKESX"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table.kubernetes": {
                    "type": "aws_route_table",
                    "depends_on": [
                        "aws_internet_gateway.gw",
                        "aws_vpc.kubernetes"
                    ],
                    "primary": {
                        "id": "rtb-bbffeede",
                        "attributes": {
                            "id": "rtb-bbffeede",
                            "propagating_vgws.#": "0",
                            "route.#": "1",
                            "route.2986548602.cidr_block": "0.0.0.0/0",
                            "route.2986548602.egress_only_gateway_id": "",
                            "route.2986548602.gateway_id": "igw-be82eadb",
                            "route.2986548602.instance_id": "",
                            "route.2986548602.ipv6_cidr_block": "",
                            "route.2986548602.nat_gateway_id": "",
                            "route.2986548602.network_interface_id": "",
                            "route.2986548602.vpc_peering_connection_id": "",
                            "tags.%": "0",
                            "vpc_id": "vpc-939a39f7"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_route_table_association.kubernetes": {
                    "type": "aws_route_table_association",
                    "depends_on": [
                        "aws_route_table.kubernetes",
                        "aws_subnet.kubernetes"
                    ],
                    "primary": {
                        "id": "rtbassoc-27c0d842",
                        "attributes": {
                            "id": "rtbassoc-27c0d842",
                            "route_table_id": "rtb-bbffeede",
                            "subnet_id": "subnet-c2b0c5b5"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_security_group.kubernetes_api": {
                    "type": "aws_security_group",
                    "depends_on": [
                        "aws_vpc.kubernetes"
                    ],
                    "primary": {
                        "id": "sg-d9a125bd",
                        "attributes": {
                            "description": "Managed by Terraform",
                            "egress.#": "1",
                            "egress.482069346.cidr_blocks.#": "1",
                            "egress.482069346.cidr_blocks.0": "0.0.0.0/0",
                            "egress.482069346.from_port": "0",
                            "egress.482069346.ipv6_cidr_blocks.#": "0",
                            "egress.482069346.prefix_list_ids.#": "0",
                            "egress.482069346.protocol": "-1",
                            "egress.482069346.security_groups.#": "0",
                            "egress.482069346.self": "false",
                            "egress.482069346.to_port": "0",
                            "id": "sg-d9a125bd",
                            "ingress.#": "2",
                            "ingress.1463360607.cidr_blocks.#": "1",
                            "ingress.1463360607.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.1463360607.from_port": "6443",
                            "ingress.1463360607.ipv6_cidr_blocks.#": "0",
                            "ingress.1463360607.protocol": "tcp",
                            "ingress.1463360607.security_groups.#": "0",
                            "ingress.1463360607.self": "false",
                            "ingress.1463360607.to_port": "6443",
                            "ingress.1552887747.cidr_blocks.#": "1",
                            "ingress.1552887747.cidr_blocks.0": "0.0.0.0/0",
                            "ingress.1552887747.from_port": "22",
                            "ingress.1552887747.ipv6_cidr_blocks.#": "0",
                            "ingress.1552887747.protocol": "SSH",
                            "ingress.1552887747.security_groups.#": "0",
                            "ingress.1552887747.self": "false",
                            "ingress.1552887747.to_port": "22",
                            "name": "kubernetes-api",
                            "owner_id": "493490470276",
                            "tags.%": "0",
                            "vpc_id": "vpc-939a39f7"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_subnet.kubernetes": {
                    "type": "aws_subnet",
                    "depends_on": [
                        "aws_vpc.kubernetes"
                    ],
                    "primary": {
                        "id": "subnet-c2b0c5b5",
                        "attributes": {
                            "assign_ipv6_address_on_creation": "false",
                            "availability_zone": "cn-north-1b",
                            "cidr_block": "10.0.0.0/16",
                            "id": "subnet-c2b0c5b5",
                            "map_public_ip_on_launch": "false",
                            "tags.%": "0",
                            "vpc_id": "vpc-939a39f7"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "aws_vpc.kubernetes": {
                    "type": "aws_vpc",
                    "depends_on": [],
                    "primary": {
                        "id": "vpc-939a39f7",
                        "attributes": {
                            "assign_generated_ipv6_cidr_block": "false",
                            "cidr_block": "10.0.0.0/16",
                            "default_network_acl_id": "acl-56d3c533",
                            "default_route_table_id": "rtb-efe5f48a",
                            "default_security_group_id": "sg-a19b1fc5",
                            "dhcp_options_id": "dopt-22f98147",
                            "enable_dns_hostnames": "true",
                            "enable_dns_support": "true",
                            "id": "vpc-939a39f7",
                            "instance_tenancy": "default",
                            "main_route_table_id": "rtb-efe5f48a",
                            "tags.%": "0"
                        },
                        "meta": {
                            "schema_version": "1"
                        },
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                },
                "template_file.cloud_init": {
                    "type": "template_file",
                    "depends_on": [],
                    "primary": {
                        "id": "6d7bb7976d5490c8857a2981313c5660961230ac4b55bac6da7d4b623fd03a10",
                        "attributes": {
                            "id": "6d7bb7976d5490c8857a2981313c5660961230ac4b55bac6da7d4b623fd03a10",
                            "rendered": "#cloud-config\n\ncoreos:\n  etcd2:\n    # generate a new token for each unique cluster from https://discovery.etcd.io/new?size=3\n    # specify the initial size of your cluster with ?size=X\n    discovery: https://discovery.etcd.io/78f373dd76f0bb756ccfb08bfe4e93ec\n    # multi-region and multi-cloud deployments need to use $public_ipv4\n    advertise-client-urls: http://$private_ipv4:2379,http://$private_ipv4:4001\n    initial-advertise-peer-urls: http://$private_ipv4:2380\n    # listen on both the official ports and the legacy ports\n    # legacy ports can be omitted if your application doesn't depend on them\n    listen-client-urls: http://0.0.0.0:2379,http://0.0.0.0:4001\n    listen-peer-urls: http://$private_ipv4:2380,http://$private_ipv4:7001\n  units:\n    - name: etcd2.service\n      command: start\n    - name: fleet.service\n      command: start\n",
                            "template": "#cloud-config\n\ncoreos:\n  etcd2:\n    # generate a new token for each unique cluster from https://discovery.etcd.io/new?size=3\n    # specify the initial size of your cluster with ?size=X\n    discovery: ${discovery_url}\n    # multi-region and multi-cloud deployments need to use $public_ipv4\n    advertise-client-urls: http://$private_ipv4:2379,http://$private_ipv4:4001\n    initial-advertise-peer-urls: http://$private_ipv4:2380\n    # listen on both the official ports and the legacy ports\n    # legacy ports can be omitted if your application doesn't depend on them\n    listen-client-urls: http://0.0.0.0:2379,http://0.0.0.0:4001\n    listen-peer-urls: http://$private_ipv4:2380,http://$private_ipv4:7001\n  units:\n    - name: etcd2.service\n      command: start\n    - name: fleet.service\n      command: start\n",
                            "vars.%": "1",
                            "vars.discovery_url": "https://discovery.etcd.io/78f373dd76f0bb756ccfb08bfe4e93ec"
                        },
                        "meta": {},
                        "tainted": false
                    },
                    "deposed": [],
                    "provider": ""
                }
            },
            "depends_on": []
        }
    ]
}
